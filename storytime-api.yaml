swagger: '2.0'

info:
  title: Storytime API
  description: An RESTful interface to the Storytime server, enabling all manner of choose-your-own-destiny games.
  termsOfService: http://www.ajegames.com/terms/
  contact:
    name: AJEGames Support
    url: http://www.ajegames.com/support/
    email: support@ajegames.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: "1.0.0"
host: www.ajegames.com
basePath: /storytime/api/v1
schemes:
  - http
produces:
  - application/json

paths:
  /storytime:
    get:
      summary: Ping server to see if it is responsive.
      description:
        Can be called to determine if the server is responding to requests in general.  Returns the message 'pong'
        if alive.  Anonymous access is expected.
      operationId: ping
      responses:
        '200':
          description: The message 'pong'
          type: string
  /storytime/stories:
    get:
      summary: Returns summaries of all available stories.
      description:
        Retrieves array of summaries of all published stories.  This is for use by 'reader' clients as a simple means
        for browsing the catalog of stories.  At some point, this will have to be refactored to handle the millions
        of published stories.  Anonymous access to this list is expected.
      operationId: findPublishedStories
      parameters:
        - name: screenName
          in: path
          type: string
          description: Alias for the player
          required: true
      responses:
        '200':
          description: An array of summaries of published stories.
          schema:
            type: array
            items:
              $ref: '#/definitions/StorySummary'

definitions:
  StorySummary:
    type: object
    required:
    properties:
      key:
        type: string
      title:
        type: string
      author:
        type: string
      tagLine:
        type: string
      about:
        type: string
      firstChapter:
        type: object
        $ref: '#/definitions/ChapterSign'
  ChapterSign:
    type: object
    required:
    properties:
      targetChapterId:
        type: int
      teaser:
        type: string


